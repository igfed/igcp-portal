<aura:component implements="forceCommunity:availableForAllPageTypes" access="global" controller="CP_RegistrationController">
	
	<!-- ATTRS -->
	<aura:attribute name="pageId" type="String" default="registration-step-3"></aura:attribute>
	<aura:attribute name="payload" type="Map" default="{}"></aura:attribute>
	<aura:attribute name="class" type="String" default="igcp-wrapper slds-grid slds-wrap slds-grid--align-center slds-grid_pull-padded slds-p-top--small slds-medium-p-top--xx-large"></aura:attribute>
	
	<!-- Step 1 -->
	<aura:attribute name="clientNum" type="String" default="" />
	<aura:attribute name="postalCode" type="String" default="" />
	<aura:attribute name="dob" type="String" default="" />
	
	<!-- Step 2 -->
	<aura:attribute name="username" type="String" default="" />
	<aura:attribute name="password" type="String" default="" />
	<aura:attribute name="confirmPassword" type="String" default="" />
	<aura:attribute name="email" type="String" default="" />
	<aura:attribute name="emailOptIn" type="Boolean" default="false"></aura:attribute>
	<aura:attribute name="mobilePhone" type="String" default="" />
	<aura:attribute name="securityQuestion1" type="String" default=""></aura:attribute>
	<aura:attribute name="answer1" type="String" default=""></aura:attribute>
	<aura:attribute name="securityQuestion2" type="String" default=""></aura:attribute>
	<aura:attribute name="answer2" type="String" default=""></aura:attribute>
	<aura:attribute name="securityQuestion3" type="String" default=""></aura:attribute>
	<aura:attribute name="answer3" type="String" default=""></aura:attribute>
	
	<!--  Step 3 -->
	<aura:attribute name="acceptTOS" type="Boolean" default="false"></aura:attribute>
	
	<!-- INCLUDES -->
	<c:CP_Events aura:id="CP_Events" />
	<c:CP_Utils aura:id="CP_Utils" />
	<c:CP_Services aura:id="CP_Services" />
	
	<!-- HANDLER -->
	<aura:handler name="init" value="{!this}" action="{!c.onInit}" />
	<aura:handler event="c:CP_Evt_Complete" action="{!c.onRegistrationComplete}" />
	<aura:handler event="c:CP_Evt_Click" action="{!c.onAgreeTOS}"/>
	<aura:handler event="c:CP_Evt_Input_Checkbox_Checked" action="{!c.onAgreeChecked}" />
	<aura:handler event="c:CP_Evt_Input_Checkbox_Unchecked" action="{!c.onAgreeChecked}" />

	<aura:handler event="c:CP_Evt_Modal_Open" action="{!c.onModalOpen}" />
	<aura:handler event="c:CP_Evt_Modal_Close" action="{!c.onModalClose}" />

	<!-- METHODS -->
	<aura:method name="submitToISAM" action="{!c.onSubmitToISAM}" description="Called when ready to submit data to ISAM">
		<aura:attribute name="payload" type="Map"></aura:attribute>
	</aura:method>
	<aura:method name="onNextStep" action="{!c.gotoNextStep}" description="Called when ready to proceed to next step">
		<aura:attribute name="payload" type="Map"></aura:attribute>
	</aura:method>
	<aura:method name="showTOS" action="{!c.onShowTOS}" description="Show TOS overlay">
		<aura:attribute name="payload" type="Map"></aura:attribute>
	</aura:method>
	<aura:method name="updateISAMPayload" action="{!c.updateISAMPayload}" description="Update ISAM payload">
		<aura:attribute name="payload" type="Map"></aura:attribute>
	</aura:method>
	<aura:method name="logPayloadVars" action="{!c.logPayloadVars}" description="A debugging method">
		<aura:attribute name="payload" type="Map"></aura:attribute>
	</aura:method>
	
	<!-- MARKUP -->
	<div class="igcp-background">
		<div class="{!v.class}">
			<div class="igcp-utils__display--none igcp-utils__display--block slds-medium-size_3-of-12"></div>
			<div class="slds-p-around--small slds-medium-p-around--zero slds-size_12-of-12 slds-medium-size_6-of-12">
				<h1>Register for Online Access</h1>
				<c:CP_Cmp_Progress_Indicator currentStep="3" totalSteps="3" />
				<div class="igcp-label--small">Step 3</div>
				<h2>Review and Accept</h2>
				<p class="igcp-utils__width--100 igcp-large-utils__width--75">Youâ€™re almost finished! Please ensure your online profile information listed below is correct.</p>
				<div class="slds-grid slds-wrap">
					<!--NAME VALUE LIST-->
					<c:CP_Cmp_Name_Value_List id="{!v.pageId}" class="slds-size_12-of-12 slds-m-vertical--medium" variant="a" />
					<div class="igcp-utils__display--none igcp-large-utils__display--flex slds-size_7-of-12"></div>
					<!--CTAS-->
					<c:CP_Cmp_Form_Back_Next id="{!v.pageId}" backLabel="Edit Profile" nextLabel="Next" nextType="complete" modalID="registration-tos" />
				</div>
			</div>
			<div class="igcp-utils__display--none igcp-utils__display--block slds-medium-size_3-of-12"></div>
		</div>
	</div>
</aura:component>