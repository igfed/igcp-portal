<aura:component implements="forceCommunity:availableForAllPageTypes" access="global">

	<!-- ATTRS -->
	<aura:attribute name="class" type="String" default="igcp-utils__overflow--hidden"></aura:attribute>
	<aura:attribute name="currentStep" type="Integer" default="1" ></aura:attribute>

	<!-- Step 1 -->
	<aura:attribute name="clientNum" type="String" default=""/>
    <aura:attribute name="postalCode" type="String" default=""/>
    <aura:attribute name="dob" type="String" default=""/>

    <!-- Step 2 -->
    <aura:attribute name="username" type="String" default=""/>
    <aura:attribute name="password" type="String" default=""/>
    <aura:attribute name="confirmPassword" type="String" default=""/>
    <aura:attribute name="email" type="String" default=""/>
    <aura:attribute name="emailOptIn" type="Boolean" default="false" ></aura:attribute>
    <aura:attribute name="mobilePhone" type="String" default=""/>
    <aura:attribute name="securityQuestion1" type="String" default="What's your dog's name?"></aura:attribute>	
    <aura:attribute name="answer1" type="String"></aura:attribute>
    <aura:attribute name="securityQuestion2" type="String" default="Where were you born?"></aura:attribute>	
    <aura:attribute name="answer2" type="String"></aura:attribute>
    <aura:attribute name="securityQuestion3" type="String" default="What's you mother's maiden name?"></aura:attribute>	
    <aura:attribute name="answer3" type="String"></aura:attribute>
    
    <!-- Step 3 -->
    <aura:attribute name="acceptTOS" type="Boolean" default="false" ></aura:attribute>

	<!-- INCLUDES -->	
    <c:CP_CSS_Includes />
    
    <c:CP_Utils aura:id="CP_Utils"/>

    <!-- HANDLERS -->
    <aura:handler event="c:CP_Evt_Start" action="{!c.onStartRegistration}"></aura:handler>
    <aura:handler event="c:CP_Evt_Next_Step" action="{!c.onNextStep}"></aura:handler>
    <aura:handler event="c:CP_Evt_Back_Step" action="{!c.onBackStep}"></aura:handler>

    <!-- COMPONENTS -->
    <div class="{!v.class}">

    	<aura:if isTrue="{!v.currentStep == 0}"  >
    		<c:CP_Registration_Start />
    	</aura:if>

    	<aura:if isTrue="{!v.currentStep == 1}"  >
    		<c:CP_Registration_Step_1 clientNum="{!v.clientNum}" 
    			postalCode="{!v.postalCode}" 
    			dob="{!v.dob}" />
    	</aura:if>

    	<aura:if isTrue="{!v.currentStep == 2}"  >
    		<c:CP_Registration_Step_2 username="{!v.username}"
    			password="{!v.password}"
    			confirmPassword="{!v.confirmPassword}"
    			email="{!v.email}"
    			emailOptIn="{!v.emailOptIn}"
    			mobilePhone="{!v.mobilePhone}"
    			securityQuestion1="{!v.securityQuestion1}"
    			answer1="{!v.answer1}"
    			securityQuestion2="{!v.securityQuestion2}"
    			answer2="{!v.answer2}"
    			securityQuestion3="{!v.securityQuestion3}"
    			answer3="{!v.answer3}"/>
    	</aura:if>

    	<aura:if isTrue="{!v.currentStep == 3}"  >
    		<c:CP_Registration_Step_3 clientNum="{!v.clientNum}" 
    			postalCode="{!v.postalCode}" 
    			dob="{!v.dob}"
    			username="{!v.username}"
    			password="{!v.password}"
    			confirmPassword="{!v.confirmPassword}"
    			email="{!v.email}"
    			emailOptIn="{!v.emailOptIn}"
    			mobilePhone="{!v.mobilePhone}"
    			securityQuestion1="{!v.securityQuestion1}"
    			answer1="{!v.answer1}"
    			securityQuestion2="{!v.securityQuestion2}"
    			answer2="{!v.answer2}"
    			securityQuestion3="{!v.securityQuestion3}"
    			answer3="{!v.answer3}"
    			acceptTOS="{!v.acceptTOS}"/>
    	</aura:if>

    	<aura:if isTrue="{!v.currentStep == 4}"  >
    		<c:CP_Registration_Thank_You />
    	</aura:if>

    	<c:CP_Cmp_Modal id="registration-tos"/>
    	<c:CP_Cmp_Modal id="view-sample" modalType="small"/>

    	<!-- FOOTER -->	
		<!-- <c:CP_Cmp_Footer /> -->
	</div>
    
</aura:component>